#VRML V2.0 utf8




DEF	nguoi Transform	{
	children [
		DEF	dau Transform {
			translation	0 -0.2 0
			scale 0.75 .8 .7
			children [
				Transform {
					children  [
						Shape {
							appearance Appearance {
								material Material {
									diffuseColor 1 .922 .878
								}
							}
							geometry Sphere	{
								radius 0.9
							}
						}
					]
				}
				Transform {
					translation	0 0.5 0
					children  [
						Shape {
							appearance Appearance {
								material Material {
									diffuseColor 0 0 0
								}
							}
							geometry Sphere	{
								radius 1
							}
						}
					]
				}
				Transform {
					translation	0.3 -0.1 0.85
					children [
						Shape {
							appearance Appearance {
								material Material {
									diffuseColor 0 0 0
								}
							}
							geometry Sphere	{
								radius 0.08
							}
						}
					]
				}
				Transform {
					translation	-0.3 -0.1 0.85
					children [
						Shape {
							appearance Appearance {
								material Material {
									diffuseColor 0 0 0
								}
							}
							geometry Sphere	{
								radius 0.08
							}
						}
					]
				}
				Transform {
					translation	0 -0.5 0.6
					scale 1 0.3 1
					children [
						Shape {
							appearance Appearance {
								material Material {
									diffuseColor 1 0.5 0.5
								}
							}
							geometry Sphere	{
								radius 0.2
							}
						}
					]
				}
				Transform	{
					translation	0 -1 0
					scale 1 1 1
					children [
						Shape {
							appearance Appearance {
								material Material {
									diffuseColor 0.8 0.8 0.8
								}
							}
							geometry Cylinder {
								height 0.3
								radius 0.3
							}
						}
					]
				}
			]
		}
		DEF	 vai Transform {
			translation	0 -1.4 0
			children [
				Shape {
					geometry Extrusion {
						crossSection [
									0.00	1.00,
									0.38	0.92,
									0.71	0.71,
									0.92	0.38,
									1.00	0.00,
									0.92	-0.38,
									0.71	-0.71,
									0.38	-0.92,
									0.00	-1.00,
									-0.38	-0.92,
									-0.71	-0.71,
									-0.92	-0.38,
									-1.00	0.00 ,
									-0.92	0.38  ,
									-0.71	0.71  ,
									-0.38	0.92  ,0 1
						]
						spine [0 0.1 0 ,0 0.25 0,0 0.3 0,0 0.35 0]
						scale [1 0.4,0.9 0.4,0.8 0.4,0.2 0.2]
					}
					appearance Appearance {
						material Material {
							diffuseColor .925 .925 .914
						}
					}
				}
			]
		}
		DEF	than Transform {
			translation	0 -2.7 0
			children [
				Shape {
					geometry Extrusion {
						crossSection [
							 0.00	1.00,
									0.38	0.92,
									0.71	0.71,
									0.92	0.38,
									1.00	0.00,
									0.92	-0.38,
									0.71	-0.71,
									0.38	-0.92,
									0.00	-1.00,
									-0.38	-0.92,
									-0.71	-0.71,
									-0.92	-0.38,
									-1.00	0.00 ,
									-0.92	0.38  ,
									-0.71	0.71  ,
									-0.38	0.92  ,0 1
						]
						spine [0 0.1 0,0 0.2 0,0 0.4 0,0 0.6 0,0 1 0,0 1.2 0,0 1.4 0]
						scale [0.65 0.35,0.63 0.35,0.65 0.35, 0.68 0.35,0.7 0.35,0.75 0.4,0.75 0.4]
					}
					appearance Appearance {
						material Material {
							diffuseColor .52 .32 .25
							
						}
					}
				}
			]
		}
		DEF	taytrai Transform {		  
			translation	 0.75 -1.3 0	 
			children [
				Shape {
					geometry  Extrusion	{
						crossSection [
							0.00	1.00,
									0.38	0.92,
									0.71	0.71,
									0.92	0.38,
									1.00	0.00,
									0.92	-0.38,
									0.71	-0.71,
									0.38	-0.92,
									0.00	-1.00,
									-0.38	-0.92,
									-0.71	-0.71,
									-0.92	-0.38,
									-1.00	0.00 ,
									-0.92	0.38  ,
									-0.71	0.71  ,
									-0.38	0.92  ,0 1
						]
						spine [ 0 .1 0,0 0 0,0 -1 0,0 -1.8 0.3, 0 -1.9 0.33, 0 -2 0.36, 0 -2.1 0.39]
						scale [ .16 .16,0.18 0.18,0.14 0.14, 0.1 0.1, 0.14 .05, 0.14 .05,.07 .04]
					}
					appearance Appearance {
						material Material {
						diffuseColor 1 .922 .878
							}
						}
					}
			]
		}
			DEF	tayphai Transform {
					rotation 1 0 0 -1.15
					translation	 -0.75 -1.3 0		 
						children [
							Shape {
								geometry  Extrusion	{
									crossSection [
										0.00	1.00,
												0.38	0.92,
												0.71	0.71,
												0.92	0.38,
												1.00	0.00,
												0.92	-0.38,
												0.71	-0.71,
												0.38	-0.92,
												0.00	-1.00,
												-0.38	-0.92,
												-0.71	-0.71,
												-0.92	-0.38,
												-1.00	0.00 ,
												-0.92	0.38  ,
												-0.71	0.71  ,
												-0.38	0.92  ,0 1
									]
								spine [ 0 .1 0,0 0 0,0 -1 0,0 -1.8 0.3, 0 -1.9 0.33, 0 -2 0.36, 0 -2.1 0.39]
								scale [ .16 .16,0.18 0.18,0.14 0.14, 0.1 0.1, 0.14 .05, 0.14 .05,.07 .04]
								}
								appearance Appearance {
									material Material {
										diffuseColor 1 .922 .878
									}
								}
							}
							Transform {
								translation	0 -1.9 0.5
								rotation 1 0 0 1.15
								children [
									Shape {
										geometry Box {
											size 1 0.05 1
										}
										appearance Appearance {
											material Material {
												diffuseColor 0.8 0.8 0.8
											}
										}
									}
								DEF coc	Transform {
										translation	0 0.025 0
										scale 5 5 5
										children [
											Inline {
												url	"coc.wrl"
											}
										]
									}
								]
							}
						]
				}
			
		
		DEF	quan Transform {
				translation	-0.4 -3.6 0
				rotation 0 0 1 -0.1
				children [
					Shape {
						geometry  Extrusion	{
							crossSection [
						
										0.00	1.00,
										0.38	0.92,
										0.71	0.71,
										0.92	0.38,
										1.00	0.00,
										0.92	-0.38,
										0.71	-0.71,
										0.38	-0.92,
										0.00	-1.00,
										-0.38	-0.92,
										-0.71	-0.71,
										-0.92	-0.38,
										-1.00	0.00 ,
										-0.92	0.38  ,
										-0.71	0.71  ,
										-0.38	0.92  ,0 1
							]
							spine [0 0.1 0,0 0.2 0, 0 0.5 0,0 0.9 0,0 1 0]
							scale [0.4 0.35,0.4 0.35,0.4 0.4,0.35 0.35,0.35 0.25]
						}
						appearance Appearance {
							material Material {
								diffuseColor 0 0 0
								specularColor .29 .3 .29
								ambientIntensity 0
								shininess .08
							}
						}
					}
				]
		}	
		DEF	quan2 Transform {		  		  
			rotation 0 1 0 3.14
			children [
			USE	quan
			]
		}
		DEF	 chanphai Transform	{
			translation	-0.4 -3.3 -0.05		
			children [
				Shape {
					geometry  Extrusion	{
						crossSection [
						0.00	1.00,
									0.38	0.92,
									0.71	0.71,
									0.92	0.38,
									1.00	0.00,
									0.92	-0.38,
									0.71	-0.71,
									0.38	-0.92,
									0.00	-1.00,
									-0.38	-0.92,
									-0.71	-0.71,
									-0.92	-0.38,
									-1.00	0.00 ,
									-0.92	0.38  ,
									-0.71	0.71  ,
									-0.38	0.92  ,0 1
						]
						spine [ 0 0.3 0,0 0.2 0, 0 0 0,0 -0.5 0.1,0 -1 0.13,0 -1.5 0.16 ,0 -2 0.19]
						scale [0.1 0.1, 0.25 0.25,0.3 0.3,0.25 0.25, 0.2 0.2 , 0.18 0.18,0.16 0.16]
					}
					appearance Appearance {
						material Material {
							diffuseColor .996 .925 .859
						}
					}
				}  
				Transform {
					translation	0 -2 0.3
					scale 0.5 0.2 0.7
					children [
						Shape {
							appearance Appearance {
								material Material {
									diffuseColor .996 .925 .859
								}
							}
							geometry Sphere	{
								radius 0.5
							}
						}
					]
				}
			]
		}
		DEF	 chantrai Transform	{
			translation	0.4 -3.3 -0.05
			children [
				Shape {
					geometry  Extrusion	{
						crossSection [
						0.00	1.00,
									0.38	0.92,
									0.71	0.71,
									0.92	0.38,
									1.00	0.00,
									0.92	-0.38,
									0.71	-0.71,
									0.38	-0.92,
									0.00	-1.00,
									-0.38	-0.92,
									-0.71	-0.71,
									-0.92	-0.38,
									-1.00	0.00 ,
									-0.92	0.38  ,
									-0.71	0.71  ,
									-0.38	0.92  ,0 1
						]
						spine [ 0 0.3 0,0 0.2 0, 0 0 0,0 -0.5 0.1,0 -1 0.13,0 -1.5 0.16 ,0 -2 0.19]
						scale [0.1 0.1, 0.25 0.25,0.3 0.3,0.25 0.25, 0.2 0.2 , 0.18 0.18,0.16 0.16]
					}
					appearance Appearance {
						material Material {
							diffuseColor 1 .933 .863
						}
					}
				} 
				Transform {
					translation	0 -2 0.3
					scale 0.5 0.2 0.7
					children [
						Shape {
							appearance Appearance {
								material Material {
									diffuseColor .996 .925 .859
								}
							}
							geometry Sphere	{
								radius 0.5
							}
						}
					]
				}
			]
		} 
		
		DEF	touch1 TouchSensor {
			enabled	TRUE
		}

		DEF	Time2 TimeSensor {
			  enabled FALSE
			 cycleInterval 1 
			 loop FALSE
			 startTime 1
		}

		DEF	Time3 TimeSensor {
			  enabled FALSE
			 cycleInterval 1 
			 loop FALSE
			 startTime 1
		}
	    
	    DEF	timeCDN1 TimeSensor	{
			 enabled TRUE
			 cycleInterval 5 
			 loop TRUE

		}	 

		DEF quaychantrai OrientationInterpolator {
			 key [0 0.25 0.5 1]
			 keyValue [ 1 0 0 0, 1 0 0 0.4,1 0 0 0 , 1 0 0 0 ]
		}
		DEF quaychanphai OrientationInterpolator {
			 key [0 0.25 0.5 1]
			 keyValue [ 1 0 0 0, 1 0 0 -0.4,1 0 0 0 , 1 0 0 0 ]
		}

		DEF	dichuyencoc PositionInterpolator {
			key[ 0 0.25 0.5 1]
			keyValue [
				0 0 0,
				0 -1 2,
				0 -1 2,
				0 -1 2,
				
			]
		}

		DEF	dichuyencoc2 PositionInterpolator {
			key[ 0 1]
			keyValue [
				0 -1 2,
				0 0 0
				
			]
		}

		DEF ma Script {

			eventIn SFBool turnOn


			eventOut SFBool On

			eventOut SFBool Off

			field SFBool turn FALSE

			url "javascript:
					function turnOn(val){
						if(val){
							turn = !turn;
							if(turn){
								On= TRUE;
                   				Off=FALSE;
            					}
        					else{
           						On=FALSE;
								Off=TRUE;
        						}

    						}
					}
				"

		}

	]
		
	    ROUTE timeCDN1.fraction_changed	TO quaychantrai.set_fraction
		ROUTE quaychantrai.value_changed TO	chantrai.rotation
		ROUTE timeCDN1.fraction_changed	TO quaychanphai.set_fraction
		ROUTE quaychanphai.value_changed TO	chanphai.rotation
		ROUTE touch1.isActive TO ma.turnOn
		ROUTE ma.On	TO Time2.enabled
		ROUTE touch1.touchTime TO Time2.startTime
		ROUTE Time2.fraction_changed	TO dichuyencoc.set_fraction
		ROUTE dichuyencoc.value_changed	TO coc.translation

		ROUTE ma.Off TO	Time3.enabled
		ROUTE touch1.touchTime TO Time3.startTime
		ROUTE Time3.fraction_changed TO dichuyencoc2.set_fraction
		ROUTE dichuyencoc2.value_changed TO coc.translation
}#end of nguoi







####dichuyen





#phan di chuyen
#DEF	or1 OrientationInterpolator {
#	key	[0 0.45 0.5 0.95 1]
#	keyValue [0 1 0 1.57, 0 1 0 1.57 , 0 1 0 -1.57,0 1 0 -1.57,0 1 0 1.57]
#}

#DEF	 pos1 PositionInterpolator {
#	key	[0 0.45 0.5 0.95 1]
#	keyValue [0 0 0,10 0 0,10 0 0,0 0 0,0 0 0]
#}
#ROUTE TS1.fraction_changed TO or1.set_fraction
#ROUTE TS1.fraction_changed TO pos1.set_fraction
#ROUTE or1.value_changed	TO nguoi.rotation
#ROUTE pos1.value_changed TO	nguoi.translation